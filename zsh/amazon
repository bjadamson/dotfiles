# Amazon specific paths.
export PATH=$PATH:/apollo/env/SDETools/bin/
export PATH=$PATH:/apollo/env/envImprovement/bin/
export PATH=$PATH:/apollo/env/eclipse-4.2/bin/

export CR_AUTHCLOSE_OPT_OUT=true

alias kp='kinit -f $@'
alias app='sudo /apollo/bin/runCommand -a Preactivate -e $@'
alias apa='sudo /apollo/bin/runCommand -a Activate -e $@'
alias apd='sudo /apollo/bin/runCommand -a Deactivate -e $@'

# C++ debugging fn
alias debug-test=debug_test_executable
function debug_test_executable() {
  export LD_LIBRARY_PATH=$(brazil-path testrun.lib)
  /apollo/env/GDBStandalone/bin/gdb "$(pwd)/build/test/$@"
}

# quick nav
alias cdbe='cd /home/badamson/workspace/daemon/src/AaaBeCppDaemon/'

# brazil-build
alias assh='/home/badamson/assh $@'
alias bb='brazil-build $@'
alias bbap='bb apollo-pkg $@'
alias bbc='bb clean'
alias cbb='clear && bb'
alias bbg='bb gdb $@'
alias bbf='bb format'
alias bbt='bb test'
alias bbs='bb server $@'
alias bba='bbc && bb && bbt'
alias bbr='bb release'
alias bws='brazil ws --sync --md'
alias bwsr='brazil ws --remove -p $@'
alias bwsa='brazil ws --use -p $@'
alias bvs='brazil ws --use -vs $@'
alias bbtia='bb test-integration-assert'
alias sb='ssh badamson.desktop.amazon.com'
alias sbb='ssh badamson.aka.corp.amazon.com'

alias bcpc=clear_brazil_pkg_cache
function clear_brazil_pkg_cache() {
  sudo mv /local/brazil-pkg-cache /local/brazil-pkg-cache-deprecated
  sudo rm -rf /local/brazil-pkg-cache-deprecated/* &
  sudo mkdir -p /local/brazil-pkg-cache/packages
  sudo chown builder:amazon /local/brazil-pkg-cache
  sudo chown builder:amazon /local/brazil-pkg-cache/packages
}
